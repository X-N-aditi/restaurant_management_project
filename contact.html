<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Contact Form Page</title>
    </head>
    <body>
        <h2>Contact Form</h2>
        <form id="contactform" method="post">
            {% csrf_token %}
            {{ form.non_field_errors }}

            <label for="id_name">Name</label>
            {{ form.name }}
            <div id="nameError" class="error"></div>

            <label for="id_email">Email</label>
            {{ form.email }}
            <div id="emailError" class="error"></div>

            <label for="id_message">Message</label>
            {{ form.message }}

            <button type="submit">Submit</button>
        </form>

        <script>
            document.getElementById("contactform").addEventListener("submit", function(event){
                let valid = true;

                const name = document.getElementById("id_name").value.trim();
                const email = document.getElementById("id_email").value.trim();

                document.getElementById("nameError").textContent = "";
                document.getElementById("emailError").textContent = "";

                if (name === "") {
                    document.getElementById("nameError").textContent = "Please enter your name.";
                    valid = false;
                }

                if (email === ""){
                    document.getElementById("emailError").textContent = "Please enter your email. ";
                    valid = false;
                }

                if (!valid) {
                    event.preventDefault();
                }
            });
        </script>
    </body>
</html>